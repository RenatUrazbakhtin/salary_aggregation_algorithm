# salary_aggregation_algorithm

## Описание проекта
Алгоритм агрегации данных о выплатах по датам и интеграцией с телеграм ботом

В рамках проекта реализованны алгоритм фильтрации данных по введеным датам и отправка фильтрованных данных сообщением через телеграмм бота

## Технологии
- Python
- Pip
- MongoDB
- Asycnio
- aiohttp
- marshmallow
- BSON

## Зависимости
Зависимости проекта находятся в файле requirements.txt

Установить зависимости можно с помощью команды pip install -r requirements

## .env_sample
API_TOKEN - api token бота телеграмм

## Работа с проектом
Для запуска проекта необходимо выполнить следующие шаги:
1) Установить и запустить MongoDB с помощью инструкции [https://www.mongodb.com/docs/manual/installation/](https://www.mongodb.com/docs/manual/installation/)
2) Клонировать репозиторий себе на компьютер
3) Создать телеграм бота через @BotFather и получить от него API_TOKEN
4) Создать файл .env по примеру .env_sample
5) Запустить бота с помощью файла `run_bot.py`


Далее отправьте сообщение боту формата: {
"dt_from": "2022-10-01T00:00:00",
"dt_upto": "2022-11-30T23:59:00",
"group_type": "day"
}


Параметры dt_from, dt_upto могут быть другими но такого формата
Параметр group_type может быть "hour", "day", "month"

## Тесты
Тесты находятся в папке `tests`

Покрытие тестами находится в файле `coverage`

